"use strict";(globalThis.__LOADABLE_LOADED_CHUNKS__=globalThis.__LOADABLE_LOADED_CHUNKS__||[]).push([[6824],{398249:(e,i,t)=>{t.r(i),t.d(i,{CLAIM_REMINDER_QUERY:()=>x,default:()=>f});var s=t(87363),r=t.n(s),n=t(785645),a=t(744635),l=(t(86128),t(645587)),o=t(686835),c=t(341957),u=t(959659),d=t(329827),m=t(750179),b=t(263286),h=t(862569),_=t(481040);function g(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}const p={utm_campaign:"claim_business",utm_medium:"www",utm_source:"biz_page_unclaimed",utm_content:"biz_details_claim_reminder_react"};class C extends r().PureComponent{constructor(...e){super(...e),g(this,"state",{rejected:!1}),g(this,"submitUserAction",(e=>{const{businessId:i}=this.props,t={business_id:i,...p};fetch(e,{credentials:"include",method:"POST",body:(0,l.Z)(t),headers:{"content-type":"application/x-www-form-urlencoded; charset=utf-8"}})})),g(this,"onClaimButtonClick",(()=>{this.submitUserAction("/accept_claim_reminder")})),g(this,"onRejectLinkClick",(e=>{e.preventDefault(),this.submitUserAction("/dismiss_claim_reminder"),this.setState({rejected:!0})}))}render(){const{rejected:e}=this.state,{localeCode:i,businessId:t}=this.props;if(e)return null;const s=((e,i)=>{const t=new h.Z(`https://biz.yelp.com/signup/${e}/account?hr=${i}`);return Object.keys(p).forEach((e=>{t.replaceQueryParam(e,p[e])})),t})(t,i).toString();return(0,_.jsx)(d.Wn,{borderColor:"dark",borderRadius:"large",borderStyle:"dashed"},(0,_.jsx)(u.W2,{marginLeft:1,marginRight:1},(0,_.jsx)(o.gg,{gutter:2,marginTop:0,verticalAlign:"middle"},(0,_.jsx)(o.ey,{fill:!0},(0,_.jsx)(u.W2,{nowrap:!0,marginBottom:1},(0,_.jsx)(m.X6,{level:4,noSpacing:!0},(0,b.ag)("Claim this business. It’s free."))),(0,_.jsx)(m.xv,{color:"subtle"},(0,b.ag)("Get access to Yelp’s free tools"))),(0,_.jsx)(o.ey,{textAlign:"right"},(0,_.jsx)(u.W2,{nowrap:!0,marginBottom:1},(0,_.jsx)(c.zx,{tagType:"link",type:"primary",size:"medium",href:s,onClick:this.onClaimButtonClick},(0,b.ag)("Claim This Free Business Page"))),(0,_.jsx)(m.rU,{role:"button",handleClick:this.onRejectLinkClick},(0,b.ag)("I don’t work here"))))))}}const j=C,x=n.ZP`
    query GetClaimReminder($BizEncId: String) {
        business(encid: $BizEncId) {
            claimability {
                isClaimable
            }
            hasClaimReminderForCurrentUser
        }
    }
`,f=({businessId:e,localeCode:i})=>{const{loading:t,error:s,data:r}=(0,a.aM)(x,{variables:{BizEncId:e}});if(s)throw s;return t?null:r.business.hasClaimReminderForCurrentUser&&r.business.claimability.isClaimable?(0,_.jsx)(j,{businessId:e,localeCode:i}):null}}}]);
//# sourceMappingURL=ClaimReminderGQL.yji-573d96c6af85c7a681ab.chunk.js.map