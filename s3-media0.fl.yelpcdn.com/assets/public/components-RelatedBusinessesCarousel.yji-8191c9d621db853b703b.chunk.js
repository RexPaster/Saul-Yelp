(globalThis.__LOADABLE_LOADED_CHUNKS__=globalThis.__LOADABLE_LOADED_CHUNKS__||[]).push([[7854],{478419:t=>{t.exports={card:"card__09f24__SUDPs","card--pablo":"card--pablo__09f24__f5x67"}},394622:t=>{t.exports={outerContainer:"outerContainer__09f24__Lt_Sm",innerContainer:"innerContainer__09f24__bnwy1",itemContainer:"itemContainer__09f24__MqRuw",scrollContainer:"scrollContainer__09f24__KIXVQ"}},955924:t=>{t.exports={button:"button__09f24__ZaPUo",left:"left__09f24__thIOm",right:"right__09f24__CgV1Y"}},935472:t=>{t.exports={button:"button__09f24__YEdcI","button--static":"button--static__09f24__O1vsf",large:"large__09f24__ZbQF0",left:"left__09f24__Qanzm",right:"right__09f24__f1Fzg",icon:"icon__09f24__NrVuw",active:"active__09f24__Z9xEW",inactive:"inactive__09f24__I5fcI"}},470312:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>g});s(87363);var i=s(897855),o=s.n(i),n=s(226608),r=s(959659),l=s(263286),a=s(720673),c=s(640684),h=s(478419),u=s.n(h),p=s(481040);function f(){return(f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t}).apply(this,arguments)}const g=({relatedBusinesses:t})=>(0,p.jsx)(c.Z,{title:(0,l.ag)("People Also Viewed")},(0,p.jsx)(a.Z,{imageHeight:186},t.map((t=>(0,p.jsx)(r.W2,{key:t.businessUrl,className:o()(u().card,u()["card--pablo"])},(0,p.jsx)(r.W2,{marginBottom:1},(0,p.jsx)(n.lM,f({},t,{photoHeight:186}))))))))},720673:(t,e,s)=>{"use strict";s.d(e,{Z:()=>j});var i=s(87363),o=s(897855),n=s.n(o),r=s(646242),l=s(183688),a=s(686835),c=s(959659),h=s(564796),u=s(986395),p=s(263286),f=s(955924),g=s.n(f),_=s(935472),d=s.n(_);const C=(t,e,s,i)=>{const o=i?d():g(),n=[o.button];return"top-right"===e&&n.push(o["button--static"]),"left"===t?n.push(o.left):n.push(o.right),i&&n.push(s?o.active:o.inactive),n};var m=s(481040);const b=({active:t,direction:e,imageHeight:s,onClickFunction:o,position:l,size:a})=>{const c=(0,i.useContext)(r.default),f=c.v2_enabled?d():g(),_=t?"black-regular":"gray-regular";return(0,m.jsx)("button",{"aria-label":"left"===e?(0,p.ag)("Previous"):(0,p.ag)("Next"),className:n()(C(e,l,t,c.v2_enabled),{[d().large]:c.v2_enabled&&"large"===a}),disabled:c.v2_enabled&&!t,onClick:o,style:{top:s?s/2+"px":"50%"},tabIndex:"0",type:"button"},"left"===e?(0,m.jsx)(h.Z,{className:f.icon,color:c.v2_enabled?_:"black-extra-light",colorHover:c.v2_enabled?_:"black-regular",noAlign:!0}):(0,m.jsx)(u.Z,{className:f.icon,color:c.v2_enabled?_:"black-extra-light",colorHover:c.v2_enabled?_:"black-regular",noAlign:!0}))};b.defaultProps={active:!1,imageHeight:0,position:"centered",size:"small"};const v=b;var x=s(394622),P=s.n(x);function R(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}class k extends i.Component{constructor(t){super(t),R(this,"setAutoProgression",(()=>{clearInterval(this.autoProgressionInterval),this.props.autoProgressionDelay>0&&(this.autoProgressionInterval=setInterval(this.scrollPageRight,this.props.autoProgressionDelay))})),R(this,"cancelAutoProgression",(()=>{clearInterval(this.autoProgressionInterval)})),R(this,"setDimensions",(t=>{const e=this.scrollContainerRef.current;if(e){const{scrollWidth:s,offsetWidth:i}=e;this.setState({scrollEnd:s-i,scrollOffset:this.props.scrollOffset||i},t)}})),R(this,"_onResizeCallback",(t=>()=>{t&&this.animateScrollTo(this.state.scrollDistance/t*this.state.scrollOffset)})),R(this,"onResize",(()=>{const t=this._onResizeCallback(this.state.scrollOffset);this.setDimensions(t)})),R(this,"onButtonLeftClick",(()=>{this.cancelAutoProgression(),this.scrollPageLeft(),this.props.onButtonLeftClick&&this.props.onButtonLeftClick()})),R(this,"onButtonRightClick",(()=>{this.cancelAutoProgression(),this.scrollPageRight(),this.props.onButtonRightClick&&this.props.onButtonRightClick()})),R(this,"scrollPageLeft",(()=>{if(this.scrollContainerRef.current){const t=this.props.isInfinite&&this.scrollContainerRef.current.scrollLeft<=0?this.state.scrollEnd:this.scrollContainerRef.current.scrollLeft-this.state.scrollOffset;this.animateScrollTo(t)}})),R(this,"scrollPageRight",(()=>{if(this.scrollContainerRef.current){const t=this.props.isInfinite&&this.scrollContainerRef.current.scrollLeft>=this.state.scrollEnd?0:this.scrollContainerRef.current.scrollLeft+this.state.scrollOffset;this.animateScrollTo(t)}})),R(this,"animateScrollTo",(t=>{this.scrollContainerRef.current&&(this.scrollContainerRef.current.scrollTo({behavior:"smooth",left:`${t}`}),this.updateScrollDistance(t))})),R(this,"onCarouselWheel",(t=>{const e=Math.abs(t.deltaX);0!==e&&(this.throttledUpdateScrollDistance(),e>3&&this.cancelAutoProgression())})),R(this,"throttledUpdateScrollDistance",(()=>{clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout((()=>{this.scrollContainerRef.current&&this.updateScrollDistance(this.scrollContainerRef.current.scrollLeft)}),10)})),R(this,"updateScrollDistance",(t=>{this.setState({scrollDistance:t}),t>=this.state.scrollEnd&&(this.props.isInfinite||this.cancelAutoProgression()),this.props.onScroll&&this.props.onScroll(t)})),R(this,"renderCarouselButtons",(()=>{const t=this.context,e=this.props.isInfinite||this.state.scrollDistance>0,s=this.props.isInfinite||this.state.scrollDistance<this.state.scrollEnd;return t.v2_enabled?(0,m.jsx)(i.Fragment,null,(0,m.jsx)(v,{active:e,direction:"left",imageHeight:this.props.imageHeight,onClickFunction:this.onButtonLeftClick,position:this.props.controlPosition,size:this.props.controlSize}),(0,m.jsx)(v,{active:s,direction:"right",imageHeight:this.props.imageHeight,onClickFunction:this.onButtonRightClick,position:this.props.controlPosition,size:this.props.controlSize})):(0,m.jsx)(i.Fragment,null,e&&(0,m.jsx)(v,{direction:"left",onClickFunction:this.onButtonLeftClick}),s&&(0,m.jsx)(v,{direction:"right",onClickFunction:this.onButtonRightClick}))})),this.state={scrollDistance:0,scrollEnd:0,scrollOffset:0},this.scrollContainerRef=this.props.scrollContainerRef||i.createRef()}componentDidMount(){(0,l.Z)(),this.setDimensions(),this.setAutoProgression(),window.addEventListener("resize",this.onResize)}componentWillUnmount(){clearInterval(this.autoProgressionInterval),window.removeEventListener("resize",this.onResize)}render(){return(0,m.jsx)(i.Fragment,null,(this.props.title||"top-right"===this.props.controlPosition)&&(0,m.jsx)(a.gg,{gutter:2,paddingBottom:2.5,verticalAlign:"middle"},!!this.props.title&&(0,m.jsx)(a.ey,{fill:!0},this.props.title),!this.props.hideControls&&"top-right"===this.props.controlPosition&&(0,m.jsx)(a.ey,null,(0,m.jsx)(c.W2,{nowrap:!0,textAlign:"right"},this.renderCarouselButtons()))),(0,m.jsx)(c.W2,{className:P().outerContainer},(0,m.jsx)(c.W2,{className:P().innerContainer},(0,m.jsx)(c.W2,{nowrap:!0,className:P().scrollContainer,tagRef:this.scrollContainerRef,onWheel:this.onCarouselWheel},i.Children.map(this.props.children,((t,e)=>{const s=e===i.Children.toArray(this.props.children).length-1;return(0,m.jsx)(c.W2,{className:n()(P().itemContainer,this.props.itemClassName),display:"inline-block",marginRight:s?0:this.props.itemSpacing},t)})))),!this.props.hideControls&&"centered"===this.props.controlPosition&&this.renderCarouselButtons()))}}R(k,"defaultProps",{autoProgressionDelay:0,hideControls:!1,imageHeight:0,itemClassName:null,itemSpacing:2,onButtonLeftClick:null,onButtonRightClick:null,scrollOffset:null,onScroll:void 0,controlSize:"small",controlPosition:"centered",title:null}),R(k,"contextType",r.default);const j=k}}]);
//# sourceMappingURL=components-RelatedBusinessesCarousel.yji-8191c9d621db853b703b.chunk.js.map